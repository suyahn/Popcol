<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="runningtimetablens">
	<resultMap id="runningtimetableResult" type="runningtimetable">
		<result property="rtid" column="rtid" />
		<result property="pid" column="pid" />
		<result property="lid" column="lid" />
		<result property="tid" column="tid" />
		<result property="mid" column="mid" />
		<result property="rtdate" column="rtdate" />
	</resultMap>

	<select id="bookingRTList" resultMap="runningtimetableResult"
		parameterType="hashMap"> select rt.rtid, rt.rtdate from location l,
		runningtimetable rt where rt.lid = l.lid and rt.mid = #{mid} and
		rt.lid = #{lid} </select>

	<select id="bookingRttList" resultMap="runningtimetableResult"
		parameterType="hashMap"> select to_char(rtdate,'HH24:MM')rttime,rtid from
		runningtimetable where rtdate = (select rtdate from runningtimetable
		where rtid = #{rtid}) </select>
		
	<!-- 도은 -->
	<select id="selectBookingRunningtimeTable" parameterType="int" resultType="runningtimetable">
		select * from runningtimetable where rtid = #{rtid}
	</select>
	
</mapper>