<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mypagebooking">
	<resultMap id="mypagebookingResult" type="mypagebooking">
		<result property="mtitle" column="mtitle" />
		<result property="moriginaltitle" column="moriginaltitle" />
		<result property="murlposter" column="murlposter" />
		<result property="lname" column="lname" />
		<result property="tname" column="tname" />
		<result property="rtdate" column="rtdate" />
		<result property="theDate" column="theDate" />
		<result property="theTime" column="theTime" />
		<result property="price" column="price" />
		<result property="bseat" column="bseat" />
		<result property="ticketnumber" column="ticketnumber" />
	</resultMap>
	
	<!-- 도은 -->
	<!-- 마이 페이지 1개월 간 예매 내역 받아오기 -->
	<select id="selectMyBookingList" parameterType="hashmap" resultMap="bookingResult">
		select * from booking where cid = #{cid} and bdate >= #{oneMonthAgo} order by bdate desc
	</select>
	
</mapper>